import { WhatsappSession } from '@waha/core/abc/session.abc';
import { ReceiptEvent } from '@waha/core/engines/webjs/ack.webjs';
import { WebjsClientCore } from '@waha/core/engines/webjs/WebjsClientCore';
import { IMediaEngineProcessor } from '@waha/core/media/IMediaEngineProcessor';
import { QR } from '@waha/core/QR';
import { PairingCodeResponse } from '@waha/structures/auth.dto';
import { Channel, ChannelListResult, ChannelMessage, ChannelSearchByText, ChannelSearchByView, CreateChannelRequest, ListChannelsQuery, PreviewChannelMessages } from '@waha/structures/channels.dto';
import { ChatSummary, GetChatMessageQuery, GetChatMessagesFilter, GetChatMessagesQuery, OverviewFilter, ReadChatMessagesQuery, ReadChatMessagesResponse } from '@waha/structures/chats.dto';
import { ChatRequest, CheckNumberStatusQuery, EditMessageRequest, MessageButtonReply, MessageContactVcardRequest, MessageFileRequest, MessageForwardRequest, MessageImageRequest, MessageLocationRequest, MessagePollRequest, MessageReactionRequest, MessageReplyRequest, MessageStarRequest, MessageTextRequest, MessageVoiceRequest, SendSeenRequest, WANumberExistResult } from '@waha/structures/chatting.dto';
import { ContactQuery, ContactRequest, ContactUpdateBody } from '@waha/structures/contacts.dto';
import { WAHAEngine, WAHAPresenceStatus } from '@waha/structures/enums.dto';
import { BinaryFile, RemoteFile } from '@waha/structures/files.dto';
import { CreateGroupRequest, GroupParticipant, ParticipantsRequest, SettingsSecurityChangeInfo } from '@waha/structures/groups.dto';
import { Label, LabelDTO, LabelID } from '@waha/structures/labels.dto';
import { LidToPhoneNumber } from '@waha/structures/lids.dto';
import { WAMedia } from '@waha/structures/media.dto';
import { ReplyToMessage } from '@waha/structures/message.dto';
import { PaginationParams } from '@waha/structures/pagination.dto';
import { WAHAChatPresences } from '@waha/structures/presence.dto';
import { WALocation, WAMessage } from '@waha/structures/responses.dto';
import { BrowserTraceQuery } from '@waha/structures/server.debug.dto';
import { MeInfo } from '@waha/structures/sessions.dto';
import { DeleteStatusRequest, TextStatus } from '@waha/structures/status.dto';
import { WAMessageAckBody } from '@waha/structures/webhooks.dto';
import { Channel as WEBJSChannel, Chat, ClientOptions, Contact, Label as WEBJSLabel, Message, WAState } from 'whatsapp-web.js';
export interface WebJSConfig {
    webVersion?: string;
    cacheType: 'local' | 'none';
    puppeteerArgs: string[];
}
export declare class WhatsappSessionWebJSCore extends WhatsappSession {
    private START_ATTEMPT_DELAY_SECONDS;
    engine: WAHAEngine;
    protected engineConfig?: WebJSConfig;
    private startDelayedJob;
    private engineStateCheckDelayedJob;
    private shouldRestart;
    private lastQRDate;
    whatsapp: WebjsClientCore;
    protected qr: QR;
    private callRejected$;
    constructor(config: any);
    protected getClassDirName(): string;
    protected getClientOptions(): ClientOptions;
    protected buildClient(): Promise<WebjsClientCore>;
    protected getWebjsTagsFlag(): boolean;
    private restartClient;
    protected addProxyConfig(clientOptions: ClientOptions): void;
    protected init(): Promise<void>;
    start(): Promise<this>;
    stop(): Promise<void>;
    protected failed(): void;
    unpair(): Promise<void>;
    private end;
    getSessionMeInfo(): MeInfo | null;
    protected listenEngineEventsInDebugMode(): void;
    protected listenConnectionEvents(): void;
    private loadClientInfo;
    browserTrace(query: BrowserTraceQuery): Promise<string>;
    getQR(): QR;
    requestCode(phoneNumber: string, method: string, params?: any): Promise<PairingCodeResponse>;
    getScreenshot(): Promise<Buffer>;
    checkNumberStatus(request: CheckNumberStatusQuery): Promise<WANumberExistResult>;
    setProfileName(name: string): Promise<boolean>;
    setProfileStatus(status: string): Promise<boolean>;
    protected setProfilePicture(file: BinaryFile | RemoteFile): Promise<boolean>;
    protected deleteProfilePicture(): Promise<boolean>;
    rejectCall(from: string, id: string): Promise<void>;
    sendText(request: MessageTextRequest): Promise<Message>;
    deleteMessage(chatId: string, messageId: string): any;
    editMessage(chatId: string, messageId: string, request: EditMessageRequest): any;
    sendContactVCard(request: MessageContactVcardRequest): Promise<Message>;
    reply(request: MessageReplyRequest): Promise<Message>;
    sendPoll(request: MessagePollRequest): Promise<Message>;
    sendImage(request: MessageImageRequest): void;
    sendFile(request: MessageFileRequest): void;
    sendVoice(request: MessageVoiceRequest): void;
    sendButtonsReply(request: MessageButtonReply): void;
    sendLocation(request: MessageLocationRequest): Promise<Message>;
    forwardMessage(request: MessageForwardRequest): Promise<WAMessage>;
    sendSeen(request: SendSeenRequest): Promise<void>;
    startTyping(request: ChatRequest): Promise<void>;
    stopTyping(request: ChatRequest): Promise<void>;
    setReaction(request: MessageReactionRequest): Promise<any>;
    private recreateMessage;
    setStar(request: MessageStarRequest): Promise<void>;
    getChats(pagination: PaginationParams, filter?: OverviewFilter | null): Promise<any>;
    getChatsOverview(pagination: PaginationParams, filter?: OverviewFilter): Promise<ChatSummary[]>;
    protected fetchChatSummary(chat: Chat): Promise<ChatSummary>;
    getChatMessages(chatId: string, query: GetChatMessagesQuery, filter: GetChatMessagesFilter): Promise<any[]>;
    readChatMessages(chatId: string, request: ReadChatMessagesQuery): Promise<ReadChatMessagesResponse>;
    getChatMessage(chatId: string, messageId: string, query: GetChatMessageQuery): Promise<null | WAMessage>;
    pinMessage(chatId: string, messageId: string, duration: number): Promise<boolean>;
    unpinMessage(chatId: string, messageId: string): Promise<boolean>;
    deleteChat(chatId: any): Promise<boolean>;
    clearMessages(chatId: any): Promise<boolean>;
    chatsArchiveChat(chatId: string): Promise<any>;
    chatsUnarchiveChat(chatId: string): Promise<any>;
    chatsUnreadChat(chatId: string): Promise<any>;
    getLabels(): Promise<Label[]>;
    createLabel(label: LabelDTO): Promise<Label>;
    updateLabel(label: Label): Promise<Label>;
    deleteLabel(label: Label): Promise<void>;
    getChatsByLabelId(labelId: string): Promise<Chat[]>;
    getChatLabels(chatId: string): Promise<Label[]>;
    putLabelsToChat(chatId: string, labels: LabelID[]): Promise<void>;
    protected toLabel(label: WEBJSLabel): Label;
    upsertContact(chatId: string, body: ContactUpdateBody): Promise<void>;
    getContact(query: ContactQuery): Promise<Contact>;
    getContacts(pagination: PaginationParams): Promise<Contact[]>;
    getContactAbout(query: ContactQuery): Promise<{
        about: string;
    }>;
    fetchContactProfilePicture(id: string): Promise<string>;
    blockContact(request: ContactRequest): Promise<void>;
    unblockContact(request: ContactRequest): Promise<void>;
    getAllLids(pagination: PaginationParams): Promise<Array<LidToPhoneNumber>>;
    getLidsCount(): Promise<number>;
    findPNByLid(lid: string): Promise<LidToPhoneNumber>;
    findLIDByPhoneNumber(phoneNumber: string): Promise<LidToPhoneNumber>;
    createGroup(request: CreateGroupRequest): Promise<string | import("whatsapp-web.js").CreateGroupResult>;
    joinGroup(code: string): Promise<string>;
    joinInfoGroup(code: string): Promise<object>;
    getInfoAdminsOnly(id: any): Promise<SettingsSecurityChangeInfo>;
    setInfoAdminsOnly(id: any, value: any): Promise<boolean>;
    getMessagesAdminsOnly(id: any): Promise<SettingsSecurityChangeInfo>;
    setMessagesAdminsOnly(id: any, value: any): Promise<boolean>;
    getGroups(pagination: PaginationParams): Promise<any[]>;
    protected removeGroupsFieldParticipant(group: any): void;
    refreshGroups(): Promise<boolean>;
    getGroup(id: any): Promise<Chat>;
    getGroupParticipants(id: string): Promise<GroupParticipant[]>;
    deleteGroup(id: any): Promise<boolean>;
    leaveGroup(id: any): Promise<void>;
    setDescription(id: any, description: any): Promise<boolean>;
    setSubject(id: any, subject: any): Promise<boolean>;
    getInviteCode(id: any): Promise<string>;
    revokeInviteCode(id: any): Promise<string>;
    getParticipants(id: any): Promise<import("whatsapp-web.js").GroupParticipant[]>;
    addParticipants(id: any, request: ParticipantsRequest): Promise<string | {
        [key: string]: import("whatsapp-web.js").AddParticipantsResult;
    }>;
    removeParticipants(id: any, request: ParticipantsRequest): Promise<{
        status: number;
    }>;
    promoteParticipantsToAdmin(id: any, request: ParticipantsRequest): Promise<{
        status: number;
    }>;
    demoteParticipantsToUser(id: any, request: ParticipantsRequest): Promise<{
        status: number;
    }>;
    searchChannelsByView(query: ChannelSearchByView): Promise<ChannelListResult>;
    searchChannelsByText(query: ChannelSearchByText): Promise<ChannelListResult>;
    previewChannelMessages(inviteCode: string, query: PreviewChannelMessages): Promise<ChannelMessage[]>;
    protected ChatToChannel(chat: WEBJSChannel): Channel;
    protected ChannelMetadataToChannel(metadata: any): Channel;
    channelsList(query: ListChannelsQuery): Promise<Channel[]>;
    channelsCreateChannel(request: CreateChannelRequest): Promise<Channel>;
    channelsGetChannel(id: string): Promise<Channel>;
    channelsGetChannelByInviteCode(inviteCode: string): Promise<Channel>;
    channelsDeleteChannel(id: string): Promise<void>;
    channelsFollowChannel(id: string): Promise<void>;
    channelsUnfollowChannel(id: string): Promise<void>;
    channelsMuteChannel(id: string): Promise<void>;
    channelsUnmuteChannel(id: string): Promise<void>;
    setPresence(presence: WAHAPresenceStatus, chatId?: string): Promise<void>;
    getPresences(): Promise<WAHAChatPresences[]>;
    getPresence(id: string): Promise<WAHAChatPresences>;
    subscribePresence(id: string): Promise<any>;
    private toWahaPresences;
    protected checkStatusRequest(request: {
        contacts?: any[];
    }): void;
    sendTextStatus(status: TextStatus): Promise<Message>;
    deleteStatus(request: DeleteStatusRequest): Promise<void>;
    subscribeEngineEvents2(): void;
    protected processIncomingMessage(message: Message, downloadMedia?: boolean): Promise<WAMessage>;
    private toRejectedCallData;
    private processMessageReaction;
    private toPollVotePayload;
    protected TagReceiptToMessageAck(receipt: ReceiptEvent): WAMessageAckBody[];
    protected toWAMessage(message: Message): WAMessage;
    protected extractReplyTo(message: Message): ReplyToMessage | null;
    protected extractLocation(message: Message): WALocation | null;
    getEngineInfo(): Promise<{
        WWebVersion: string;
        state: WAState;
    }>;
    protected toWAContact(contact: Contact): Contact;
    protected downloadMediaSafe(message: any): Promise<WAMedia | null>;
    protected downloadMedia(message: Message): Promise<WAMedia>;
    protected getMessageOptions(request: any): any;
}
export declare class WEBJSEngineMediaProcessor implements IMediaEngineProcessor<Message> {
    hasMedia(message: Message): boolean;
    getChatId(message: Message): string;
    getMessageId(message: Message): string;
    getMimetype(message: Message): string;
    getMediaBuffer(message: Message): Promise<Buffer | null>;
    getFilename(message: Message): string | null;
}
